# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Bujo < Formula
  desc "A command-line Bullet Journal with AI-powered summaries"
  homepage "https://github.com/typingincolor/bujo"
  version "1.1.1-alpha"
  license "MIT"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/typingincolor/bujo/releases/download/v1.1.1-alpha/bujo_1.1.1-alpha_darwin_amd64.tar.gz"
      sha256 "44e84cbc2c9b9ddb649b88567c17878995d0b8fffda4e7c1edc4906173bae566"

      def install
        bin.install "bujo"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/typingincolor/bujo/releases/download/v1.1.1-alpha/bujo_1.1.1-alpha_darwin_arm64.tar.gz"
      sha256 "9b9c6c439d679383a81b1c988f3f06ef9406c2cc244a584153e567cad7e99f33"

      def install
        bin.install "bujo"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/typingincolor/bujo/releases/download/v1.1.1-alpha/bujo_1.1.1-alpha_linux_amd64.tar.gz"
      sha256 "1d2116144fa6e11527bd84b6e354fbf7786ab44f70fcedb7040f31462fc3efe8"
      def install
        bin.install "bujo"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/typingincolor/bujo/releases/download/v1.1.1-alpha/bujo_1.1.1-alpha_linux_arm64.tar.gz"
      sha256 "b84037d517236d66a530174860da7fe279f3fa8f659781f6ae777686d7f9f608"
      def install
        bin.install "bujo"
      end
    end
  end

  def caveats
    <<~EOS
      For local AI, install and run Ollama:
        brew install ollama
        ollama pull llama3.2:1b

      For cloud AI, set GEMINI_API_KEY instead.
    EOS
  end

  test do
    system "#{bin}/bujo", "version"
  end
end
